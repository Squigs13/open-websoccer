{% import "macros/navitem.twig" as navitemTemplate %}

<nav class="navbar navbar-default navbar-fixed-top">
	<div class="container">
		<div class="navbar-header">
			{#<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> #}
			{#	<span class="fas fa-bars"></span> #}
			{#</a>#}
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-mene" aria-expanded="false">
				<span class="fas fa-bars"></span>
			</button>
			<a class="navbar-brand" href="{{ env.getConfig("context_root") }}" title="{{ i18n.getNavigationLabel("home") }}">{{ env.getConfig("projectname") }}</a>
		</div>
		
		<div class="navbar-collapse collapse" id="main-menu">
			<ul class="nav navbar-nav">
				{% for navItem in navItems %}
				
				{% if navItem.children|length > 0 %}
				<li role="menuitem" class="dropdown{% if navItem.isActive %}  active{% endif %}">
					<a class="dropdown-toggle" id="label{{ navItem.pageId }}" role="button"
						data-toggle="dropdown" href="#">
						{{ navItem.label }} <b class="caret"></b>
					</a>
					<ul class="dropdown-menu" role="menu" aria-labelledby="label{{ navItem.pageId }}">
						{{ navitemTemplate.item(navItem.pageId, navItem.label, false) }}
						{% for navChild in navItem.children %}
						{{ navitemTemplate.item(navChild.pageId, navChild.label, navChild.isActive) }}
						{% endfor %}
					</ul>
				</li>
				{% else %}
				{{ navitemTemplate.item(navItem.pageId, navItem.label, navItem.isActive) }}
				{% endif %}

				{% endfor %}
			</ul>
		</div>
	</div>
</nav>